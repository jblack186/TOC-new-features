{"ast":null,"code":"import _slicedToArray from\"/Users/jamie/Documents/Tiny Organics Project/TinyOrganic-Deploy/to-project/project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"../css/RecipeList.scss\";import axios from\"axios\";import svgBaby from\"../img/baby-boy.svg\";import Danger from\"../img/danger.svg\";import Ribbon from\"../img/ribbon-for-an-angle.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RecipeList=function RecipeList(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),recipes=_useState2[0],setRecipes=_useState2[1];var _useState3=useState(props.allergies),_useState4=_slicedToArray(_useState3,2),allergies=_useState4[0],setAllergies=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];function checkAllergy(allRecipes){var safeRecipes=allRecipes.filter(function(recipe){return!recipe.allergens.find(function(allergy){return allergies.includes(allergy);});});return safeRecipes;}useEffect(function(){axios.get(\"/api/recipes-list/\").then(function(res){var safeRecipes=checkAllergy(props.recipes);console.log(\"safe\",safeRecipes);setRecipes(safeRecipes);}).catch(function(err){console.log(err);});},[props]);console.log(\"recipes\",recipes);console.log(\"allergies\",allergies);return/*#__PURE__*/_jsx(\"div\",{className:\"list\",children:/*#__PURE__*/_jsx(\"div\",{className:\"list__box\",children:recipes.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"list__box__allergies list__box__allergies--\".concat(item.id),children:[/*#__PURE__*/_jsx(\"img\",{className:\"list__box__allergies__img list__box__allergies__img--ribbon\",src:Ribbon,alt:\"ribbon\"}),/*#__PURE__*/_jsx(\"img\",{className:\"list__box__allergies__img\",src:svgBaby,alt:\"baby\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"list__box__allergies__heading\",children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"list__box__allergies__body\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"list__box__allergies__img list__box__allergies__img--danger\",src:Danger,alt:\"danger\"}),item.allergens.length>0?item.allergens.map(function(allrgy){return/*#__PURE__*/_jsx(\"p\",{children:allrgy});}):/*#__PURE__*/_jsx(\"p\",{children:\"none\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"list__box__allergies__button list__box__allergies__button--\".concat(item.id),children:\"Learn More\"})]});})})});};export default RecipeList;","map":{"version":3,"sources":["/Users/jamie/Documents/Tiny Organics Project/TinyOrganic-Deploy/to-project/project/frontend/src/components/RecipeList.js"],"names":["React","useState","useEffect","axios","RecipeList","props","recipes","setRecipes","allergies","setAllergies","loading","setLoading","checkAllergy","allRecipes","safeRecipes","filter","recipe","allergens","find","allergy","includes","get","then","res","console","log","catch","err","map","item","id","Ribbon","svgBaby","name","Danger","length","allrgy"],"mappings":"kNAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,wBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,0NAKA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC5B,cAA8BJ,QAAQ,CAAC,EAAD,CAAtC,wCAAOK,OAAP,eAAgBC,UAAhB,eACA,eAAkCN,QAAQ,CAACI,KAAK,CAACG,SAAP,CAA1C,yCAAOA,SAAP,eAAkBC,YAAlB,eACA,eAA8BR,QAAQ,CAAC,IAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eAEA,QAASC,CAAAA,YAAT,CAAsBC,UAAtB,CAAkC,CAChC,GAAMC,CAAAA,WAAW,CAAGD,UAAU,CAACE,MAAX,CAClB,SAACC,MAAD,QACE,CAACA,MAAM,CAACC,SAAP,CAAiBC,IAAjB,CAAsB,SAACC,OAAD,QAAaX,CAAAA,SAAS,CAACY,QAAV,CAAmBD,OAAnB,CAAb,EAAtB,CADH,EADkB,CAApB,CAIA,MAAOL,CAAAA,WAAP,CACD,CAEDZ,SAAS,CAAC,UAAM,CACdC,KAAK,CACFkB,GADH,CACO,oBADP,EAEGC,IAFH,CAEQ,SAACC,GAAD,CAAS,CACb,GAAIT,CAAAA,WAAW,CAAGF,YAAY,CAACP,KAAK,CAACC,OAAP,CAA9B,CACAkB,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBX,WAApB,EACAP,UAAU,CAACO,WAAD,CAAV,CACD,CANH,EAOGY,KAPH,CAOS,SAACC,GAAD,CAAS,CACdH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACD,CATH,EAUD,CAXQ,CAWN,CAACtB,KAAD,CAXM,CAAT,CAYAmB,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBnB,OAAvB,EACAkB,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBjB,SAAzB,EAEA,mBACE,YAAK,SAAS,CAAC,MAAf,uBACE,YAAK,SAAS,CAAC,WAAf,UACGF,OAAO,CAACsB,GAAR,CAAY,SAACC,IAAD,CAAU,CACrB,mBACE,aACE,SAAS,sDAAgDA,IAAI,CAACC,EAArD,CADX,wBAGE,YACE,SAAS,CAAC,6DADZ,CAEE,GAAG,CAAEC,MAFP,CAGE,GAAG,CAAC,QAHN,EAHF,cAQE,YACE,SAAS,CAAC,2BADZ,CAEE,GAAG,CAAEC,OAFP,CAGE,GAAG,CAAC,MAHN,EARF,cAaE,WAAI,SAAS,CAAC,+BAAd,UAA+CH,IAAI,CAACI,IAApD,EAbF,cAcE,aAAK,SAAS,CAAC,4BAAf,wBACE,YACE,SAAS,CAAC,6DADZ,CAEE,GAAG,CAAEC,MAFP,CAGE,GAAG,CAAC,QAHN,EADF,CAMGL,IAAI,CAACZ,SAAL,CAAekB,MAAf,CAAwB,CAAxB,CACCN,IAAI,CAACZ,SAAL,CAAeW,GAAf,CAAmB,SAACQ,MAAD,CAAY,CAC7B,mBAAO,mBAAIA,MAAJ,EAAP,CACD,CAFD,CADD,cAKC,2BAXJ,GAdF,cA4BE,eACE,SAAS,sEAAgEP,IAAI,CAACC,EAArE,CADX,wBA5BF,GADF,CAoCD,CArCA,CADH,EADF,EADF,CA4CD,CAxED,CA0EA,cAAe1B,CAAAA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"../css/RecipeList.scss\";\nimport axios from \"axios\";\nimport svgBaby from \"../img/baby-boy.svg\";\nimport Danger from \"../img/danger.svg\";\nimport Ribbon from \"../img/ribbon-for-an-angle.svg\";\n\nconst RecipeList = (props) => {\n  const [recipes, setRecipes] = useState([]);\n  const [allergies, setAllergies] = useState(props.allergies);\n  const [loading, setLoading] = useState(true);\n\n  function checkAllergy(allRecipes) {\n    const safeRecipes = allRecipes.filter(\n      (recipe) =>\n        !recipe.allergens.find((allergy) => allergies.includes(allergy))\n    );\n    return safeRecipes;\n  }\n\n  useEffect(() => {\n    axios\n      .get(\"/api/recipes-list/\")\n      .then((res) => {\n        let safeRecipes = checkAllergy(props.recipes);\n        console.log(\"safe\", safeRecipes);\n        setRecipes(safeRecipes);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [props]);\n  console.log(\"recipes\", recipes);\n  console.log(\"allergies\", allergies);\n\n  return (\n    <div className=\"list\">\n      <div className=\"list__box\">\n        {recipes.map((item) => {\n          return (\n            <div\n              className={`list__box__allergies list__box__allergies--${item.id}`}\n            >\n              <img\n                className=\"list__box__allergies__img list__box__allergies__img--ribbon\"\n                src={Ribbon}\n                alt=\"ribbon\"\n              />\n              <img\n                className=\"list__box__allergies__img\"\n                src={svgBaby}\n                alt=\"baby\"\n              />\n              <h3 className=\"list__box__allergies__heading\">{item.name}</h3>\n              <div className=\"list__box__allergies__body\">\n                <img\n                  className=\"list__box__allergies__img list__box__allergies__img--danger\"\n                  src={Danger}\n                  alt=\"danger\"\n                />\n                {item.allergens.length > 0 ? (\n                  item.allergens.map((allrgy) => {\n                    return <p>{allrgy}</p>;\n                  })\n                ) : (\n                  <p>none</p>\n                )}\n              </div>\n              <button\n                className={`list__box__allergies__button list__box__allergies__button--${item.id}`}\n              >\n                Learn More\n              </button>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default RecipeList;\n"]},"metadata":{},"sourceType":"module"}